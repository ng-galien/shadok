# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "dependencycaches.shadok.org"
spec:
  group: "shadok.org"
  names:
    kind: "DependencyCache"
    plural: "dependencycaches"
    singular: "dependencycache"
  scope: "Namespaced"
  versions:
  - name: "v1"
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              accessMode:
                description: "Access mode for the PVC (read-write for multiple pods)"
                type: "string"
              cachePath:
                description: "Path within the PV where the dependency cache is located"
                type: "string"
              configMaps:
                description: "List of ConfigMaps to mount in the dependency cache"
                items:
                  properties:
                    key:
                      description: "Optional key within the ConfigMap or Secret to\
                        \ mount (if not specified, all keys are mounted)"
                      type: "string"
                    mountPath:
                      description: "Mount path inside the container"
                      type: "string"
                    name:
                      description: "Name of the ConfigMap or Secret"
                      type: "string"
                  type: "object"
                type: "array"
              labels:
                additionalProperties:
                  type: "string"
                description: "Optional labels to apply to the created PVC"
                type: "object"
              persistentVolumeName:
                description: "Name of the existing PersistentVolume for the dependency\
                  \ cache"
                type: "string"
              pvcName:
                description: "Name for the PVC to be created"
                type: "string"
              secrets:
                description: "List of Secrets to mount in the dependency cache"
                items:
                  properties:
                    key:
                      description: "Optional key within the ConfigMap or Secret to\
                        \ mount (if not specified, all keys are mounted)"
                      type: "string"
                    mountPath:
                      description: "Mount path inside the container"
                      type: "string"
                    name:
                      description: "Name of the ConfigMap or Secret"
                      type: "string"
                  type: "object"
                type: "array"
              storageClass:
                description: "Storage class for the PVC (optional)"
                type: "string"
              storageSize:
                description: "Storage size for the PVC (e.g., '5Gi', '10Gi')"
                type: "string"
            type: "object"
          status:
            properties:
              createdPvcName:
                description: "Name of the created PVC (when successful)"
                type: "string"
              errorMessage:
                description: "Error message in case of failure"
                type: "string"
              lastReconciled:
                description: "Timestamp of the last reconciliation"
                type: "string"
              message:
                description: "Human-readable message describing the current state"
                type: "string"
              observedGeneration:
                description: "Generation observed by the controller"
                type: "integer"
              state:
                description: "Current state of the DependencyCache"
                enum:
                - "FAILED"
                - "PENDING"
                - "READY"
                - "UPDATING"
                type: "string"
            type: "object"
        type: "object"
    served: true
    storage: true
    subresources:
      status: {}
