# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "projectsources.shadok.org"
spec:
  group: "shadok.org"
  names:
    kind: "ProjectSource"
    plural: "projectsources"
    singular: "projectsource"
  scope: "Namespaced"
  versions:
  - name: "v1"
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              accessMode:
                description: "Access mode for the PVC (readonly)"
                type: "string"
              labels:
                additionalProperties:
                  type: "string"
                description: "Optional labels to apply to the created PVC"
                type: "object"
              persistentVolumeName:
                description: "Name of the existing PersistentVolume containing the\
                  \ sources"
                type: "string"
              pvcName:
                description: "Name for the PVC to be created"
                type: "string"
              sourcePath:
                description: "Path within the PV where the project sources are located"
                type: "string"
              storageClass:
                description: "Storage class for the PVC (optional)"
                type: "string"
              storageSize:
                description: "Storage size for the PVC (e.g., '1Gi', '500Mi')"
                type: "string"
            type: "object"
          status:
            properties:
              createdPvcName:
                description: "Name of the created PVC (when successful)"
                type: "string"
              errorMessage:
                description: "Error message in case of failure"
                type: "string"
              lastReconciled:
                description: "Timestamp of the last reconciliation"
                type: "string"
              message:
                description: "Human-readable message describing the current state"
                type: "string"
              observedGeneration:
                description: "Generation observed by the controller"
                type: "integer"
              state:
                description: "Current state of the ProjectSource"
                enum:
                - "FAILED"
                - "PENDING"
                - "READY"
                - "UPDATING"
                type: "string"
            type: "object"
        type: "object"
    served: true
    storage: true
    subresources:
      status: {}
